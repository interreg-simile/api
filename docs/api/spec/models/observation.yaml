title: Observation
type: object
x-tags:
  - Observations
description: A single observation.
properties:
  _id:
    type: string
    description: Unique identifier of the resource.
  photos:
    type: array
    description: URL of the photos related to the observation (max 3).
    items:
      type: string
  position:
    type: object
    description: Information about the position of the observation.
    required:
      - type
      - coordinates
      - crs
    properties:
      type:
        type: string
        description: Type of the geometry. Its value is always Point.
      coordinates:
        type: array
        description: Coordinates of the observation.
        items:
          type: number
      crs:
        type: object
        description: Coordinate reference system of the observation coordinates.
        required:
          - code
          - description
        properties:
          code:
            type: number
            description: ''
          description:
            type: string
            description: ''
      accuracy:
        type: number
        description: Accuracy of the position (in meters).
      roi:
        type: string
        description: Id of the region of interest in which the observation falls.
  weather:
    type: object
    description: Weather data of the observation time and location.
    required:
      - sky
    properties:
      temperature:
        type: number
        description: Temperature in degree Celsius.
      sky:
        type: object
        description: Sky conditions.
        required:
          - code
          - description
        properties:
          code:
            type: number
          description:
            type: string
      wind:
        type: number
        description: Wind speed in meters per second.
  details:
    type: object
    description: Observation details.
    properties:
      algale:
        type: object
        description: Details about algae presence.
        properties:
          checked:
            type: boolean
            description: Flag that states if the phenomenon is present.
          extension:
            type: object
            description: Extension of the algae mass.
            properties:
              code:
                type: integer
              description:
                type: string
            required:
              - code
              - description
          look:
            type: object
            description: Look of the algae mass.
            properties:
              code:
                type: integer
              description:
                type: string
            required:
              - code
              - description
          colour:
            type: object
            description: Colour of the algae mass.
            properties:
              code:
                type: integer
              description:
                type: string
            required:
              - code
              - description
          iridescent:
            type: boolean
            description: Flag that states if the algae mass is iridescent.
        required:
          - checked
      foams:
        type: object
        description: Details about foams presence.
        properties:
          checked:
            type: boolean
            description: Flag that states if the phenomenon is present.
          look:
            type: object
            description: Look of the foam.
            properties:
              code:
                type: integer
              description:
                type: string
            required:
              - code
              - description
          extension:
            type: object
            description: Extension of the foam.
            properties:
              code:
                type: integer
              description:
                type: string
            required:
              - code
              - description
          height:
            type: object
            description: Height of the foam.
            properties:
              code:
                type: integer
              description:
                type: string
            required:
              - code
              - description
        required:
          - checked
      oils:
        type: object
        description: Details about spilled oils presence.
        properties:
          checked:
            type: boolean
            description: Flag that states if the phenomenon is present.
          type:
            type: object
            description: Type of the spilled oil.
            properties:
              code:
                type: integer
              description:
                type: string
            required:
              - code
              - description
          extension:
            type: object
            description: Extension of the spilled oil.
            properties:
              code:
                type: integer
              description:
                type: string
            required:
              - code
              - description
        required:
          - checked
      litters:
        type: object
        description: Details about litters presence.
        properties:
          checked:
            type: boolean
            description: Flag that states if the phenomenon is present.
          quantity:
            type: object
            description: Quantity of litter.
            properties:
              code:
                type: number
              description:
                type: string
            required:
              - code
              - description
          type:
            type: array
            description: Type(s) of litter.
            items:
              type: object
              properties:
                code:
                  type: number
                description:
                  type: string
              required:
                - code
                - description
        required:
          - checked
      odours:
        type: object
        description: Details about odours presence.
        properties:
          checked:
            type: boolean
            description: Flag that states if the phenomenon is present.
          origin:
            type: array
            description: Origin(s) of the odour.
            items:
              type: object
              properties:
                code:
                  type: number
                description:
                  type: string
              required:
                - code
                - description
          intensity:
            type: object
            description: Intensity of the odour.
            properties:
              code:
                type: number
              description:
                type: string
            required:
              - code
              - description
        required:
          - checked
      outlets:
        type: object
        description: Details about outlets presence.
        properties:
          checked:
            type: boolean
            description: Flag that states if the phenomenon is present.
          inPlace:
            type: boolean
            description: Flag that states if the outlet is in place.
          terminal:
            type: object
            description: Type of the outlet terminal.
            properties:
              code:
                type: number
              description:
                type: string
            required:
              - code
              - description
          colour:
            type: object
            description: Colour of the outlet.
            properties:
              code:
                type: number
              description:
                type: string
            required:
              - code
              - description
          vapour:
            type: boolean
            description: Flag that states if there is vapour coming from the outlet.
          signage:
            type: boolean
            description: Flag that states if there is a signage accompanying the outlet.
          signagePhoto:
            type: string
            description: Url of the photo of the signage accompanying the outlet.
          prodActNearby:
            type: boolean
            description: Flag that states if there are product activities nearby the outlet.
          prodActNearbyDetails:
            type: string
            description: Datils about any product ativity nearby the outlet.
        required:
          - checked
      fauna:
        type: object
        description: Details about fauna presence.
        properties:
          checked:
            type: boolean
            description: Flag that states if the phenomenon is present.
          fish:
            type: object
            description: Details about the presence of fish.
            properties:
              checked:
                type: boolean
                description: Flag that states if there are fish in the area.
              number:
                type: integer
                description: Number of fish in the area.
              deceased:
                type: boolean
                description: Flag that states if there are deceased fish in the area.
              abnormal:
                description: Details about fish with abnormal behaviour.
                type: object
                properties:
                  checked:
                    type: boolean
                    description: Flag that states if there are fish with abnormal behaviours.
                  details:
                    type: string
                    description: Details about the abnormal behaviours.
                required:
                  - checked
              alien:
                type: object
                description: Detail about the presence of alien species.
                properties:
                  checked:
                    type: boolean
                    description: Flag that states if there is presence of alien species.
                  species:
                    type: array
                    description: List of alien species.
                    items:
                      type: object
                      properties:
                        code:
                          type: integer
                        description:
                          type: string
                      required:
                        - code
                        - description
                required:
                  - checked
            required:
              - checked
          birds:
            type: object
            description: Details about the presence of birds.
            properties:
              checked:
                type: boolean
                description: Flag that states if there are birds in the area.
              number:
                type: integer
                description: Number of birds in the area.
              deceased:
                type: boolean
                description: Flag that states if there are deceased birds in the area.
              abnormal:
                description: Details about birds with abnormal behaviour.
                type: object
                properties:
                  checked:
                    type: boolean
                    description: Flag that states if there are birds with abnormal behaviours.
                  details:
                    type: string
                    description: Details about the abnormal behaviours.
                required:
                  - checked
              alien:
                type: object
                description: Detail about the presence of alien species.
                properties:
                  checked:
                    type: boolean
                    description: Flag that states if there is presence of alien species.
                  species:
                    type: array
                    description: List of alien species.
                    items:
                      type: object
                      properties:
                        code:
                          type: integer
                        description:
                          type: string
                      required:
                        - code
                        - description
                required:
                  - checked
            required:
              - checked
          molluscs:
            type: object
            description: Details about the presence of molluscs.
            properties:
              checked:
                type: boolean
                description: Flag that states if there are molluscs in the area.
              number:
                type: integer
                description: Number of molluscs in the area.
              deceased:
                type: boolean
                description: Flag that states if there are deceased molluscs in the area.
              abnormal:
                description: Details about molluscs with abnormal behaviour.
                type: object
                properties:
                  checked:
                    type: boolean
                    description: Flag that states if there are molluscs with abnormal behaviours.
                  details:
                    type: string
                    description: Details about the abnormal behaviours.
                required:
                  - checked
              alien:
                type: object
                description: Detail about the presence of alien species.
                properties:
                  checked:
                    type: boolean
                    description: Flag that states if there is presence of alien species.
                  species:
                    type: array
                    description: List of alien species.
                    items:
                      type: object
                      properties:
                        code:
                          type: integer
                        description:
                          type: string
                      required:
                        - code
                        - description
                required:
                  - checked
            required:
              - checked
          crustaceans:
            type: object
            description: Details about the presence of crustaceans.
            properties:
              checked:
                type: boolean
                description: Flag that states if there are crustaceans in the area.
              number:
                type: integer
                description: Number of crustaceans in the area.
              deceased:
                type: boolean
                description: Flag that states if there are deceased crustaceans in the area.
              abnormal:
                description: Details about crustaceans with abnormal behaviour.
                type: object
                properties:
                  checked:
                    type: boolean
                    description: Flag that states if there are crustaceans with abnormal behaviours.
                  details:
                    type: string
                    description: Details about the abnormal behaviours.
                required:
                  - checked
              alien:
                type: object
                description: Detail about the presence of alien species.
                properties:
                  checked:
                    type: boolean
                    description: Flag that states if there is presence of alien species.
                  species:
                    type: array
                    description: List of alien species.
                    items:
                      type: object
                      properties:
                        code:
                          type: integer
                        description:
                          type: string
                      required:
                        - code
                        - description
                required:
                  - checked
            required:
              - checked
          turtles:
            type: object
            description: Details about the presence of turtles.
            properties:
              checked:
                type: boolean
                description: Flag that states if there are turtles in the area.
              number:
                type: integer
                description: Number of turtles in the area.
              deceased:
                type: boolean
                description: Flag that states if there are deceased turtles in the area.
              abnormal:
                description: Details about turtles with abnormal behaviour.
                type: object
                properties:
                  checked:
                    type: boolean
                    description: Flag that states if there are turtles with abnormal behaviours.
                  details:
                    type: string
                    description: Details about the abnormal behaviours.
                required:
                  - checked
              alien:
                type: object
                description: Detail about the presence of alien species.
                properties:
                  checked:
                    type: boolean
                    description: Flag that states if there is presence of alien species.
                  species:
                    type: array
                    description: List of alien species.
                    items:
                      type: object
                      properties:
                        code:
                          type: integer
                        description:
                          type: string
                      required:
                        - code
                        - description
                required:
                  - checked
            required:
              - checked
        required:
          - checked
  measures:
    type: object
    description: Scientific measures linked to the observation.
    properties:
      transparency:
        type: object
        description: A transparency measure.
        properties:
          val:
            type: number
            description: Value of the measure (meters).
          instrument:
            type: object
            description: Instrument used to perform the measure.
            required:
              - type
            properties:
              type:
                type: object
                description: Type of instrument.
                required:
                  - code
                  - description
                properties:
                  code:
                    type: number
                  description:
                    type: string
              precision:
                type: number
                description: Instrument precision (meters).
              details:
                type: string
                description: Instrument details.
        required:
          - val
          - instrument
      temperature:
        type: object
        description: A temperature measure.
        properties:
          multiple:
            type: boolean
            description: Flag that states if the measure is conducted at multiple depths.
          val:
            type: array
            description: Value(s) of the measure.
            items:
              type: object
              properties:
                depth:
                  type: number
                  description: Depth at which the measure has been taken (m).
                val:
                  type: number
                  description: Value of the measure (°C).
              required:
                - depth
                - val
          instrument:
            type: object
            description: Instrument used to perform the measure.
            properties:
              type:
                type: object
                description: Type of instrument.
                required:
                  - code
                  - description
                properties:
                  code:
                    type: number
                  description:
                    type: string
              precision:
                type: number
                description: Instrument precision (°C).
              details:
                type: string
                description: Instrument details.
            required:
              - type
      ph:
        type: object
        description: A pH measure.
        properties:
          multiple:
            type: boolean
            description: Flag that states if the measure is conducted at multiple depths.
          val:
            type: array
            description: Value(s) of the measure.
            items:
              type: object
              properties:
                depth:
                  type: number
                  description: Depth at which the measure has been taken.
                val:
                  type: number
                  description: Value of the measure.
              required:
                - depth
                - val
          instrument:
            type: object
            description: Instrument used to perform the measure.
            required:
              - type
            properties:
              type:
                type: object
                description: Type of instrument.
                required:
                  - code
                  - description
                properties:
                  code:
                    type: number
                  description:
                    type: string
              precision:
                type: number
                description: Instrument precision.
              details:
                type: string
                description: Instrument details.
        required:
          - multiple
          - val
          - instrument
      oxygen:
        type: object
        description: An oxygen concentration measure.
        properties:
          multiple:
            type: boolean
            description: Flag that states if the measure is conducted at multiple depths.
          percentage:
            type: boolean
            description: Flag that states if the concentration is in form of percentage or mg/l.
          val:
            type: array
            description: Value(s) of the measure.
            items:
              type: object
              properties:
                depth:
                  type: number
                  description: Depth at which the measure has been taken (m).
                val:
                  type: number
                  description: 'Value of the measure (% or mg/l).'
              required:
                - depth
                - val
          instrument:
            type: object
            description: Instrument used to perform the measure.
            required:
              - type
            properties:
              type:
                type: object
                description: Type of instrument.
                required:
                  - code
                  - description
                properties:
                  code:
                    type: number
                  description:
                    type: string
              precision:
                type: number
                description: 'Instrument precision (% or mg/l).'
              details:
                type: string
                description: Instrument details.
        required:
          - multiple
          - percentage
          - val
          - instrument
      bacteria:
        description: A becteria measure.
        type: object
        properties:
          escherichiaColi:
            type: number
            description: Escherichia Coli presence (UFC/100ml).
          enterococci:
            type: number
            description: Enterococci presence (UFC/100ml).
  other:
    type: string
    description: Other specifications.
  markedForDeletion:
    type: boolean
    description: Flag that states if the resources has been marked for deletion.
  createdAt:
    type: string
    description: Date of the creation of the resource.
  updatedAt:
    type: string
    description: Date of the last update of the resource.
required:
  - _id
  - position
  - weather
  - markedForDeletion
  - createdAt
  - updatedAt
